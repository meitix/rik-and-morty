[{"/Users/mahdi/workspace/rik-and-morty/src/index.tsx":"1","/Users/mahdi/workspace/rik-and-morty/src/reportWebVitals.ts":"2","/Users/mahdi/workspace/rik-and-morty/src/App.tsx":"3","/Users/mahdi/workspace/rik-and-morty/src/pages/index.ts":"4","/Users/mahdi/workspace/rik-and-morty/src/pages/home.page.tsx":"5","/Users/mahdi/workspace/rik-and-morty/src/service.ts":"6","/Users/mahdi/workspace/rik-and-morty/src/pages/result.page.tsx":"7","/Users/mahdi/workspace/rik-and-morty/src/env.ts":"8","/Users/mahdi/workspace/rik-and-morty/src/contexts/app-context.ts":"9","/Users/mahdi/workspace/rik-and-morty/src/common/index.ts":"10","/Users/mahdi/workspace/rik-and-morty/src/common/error.tsx":"11","/Users/mahdi/workspace/rik-and-morty/src/lib/character/index.ts":"12","/Users/mahdi/workspace/rik-and-morty/src/lib/character/character-list.component.tsx":"13","/Users/mahdi/workspace/rik-and-morty/src/lib/character/character-card.component.tsx":"14","/Users/mahdi/workspace/rik-and-morty/src/lib/search/index.ts":"15","/Users/mahdi/workspace/rik-and-morty/src/lib/search/search-box.component.tsx":"16","/Users/mahdi/workspace/rik-and-morty/src/pages/details.page.tsx":"17","/Users/mahdi/workspace/rik-and-morty/src/lib/episode/episode.component.tsx":"18","/Users/mahdi/workspace/rik-and-morty/src/lib/character/character-info.component.tsx":"19","/Users/mahdi/workspace/rik-and-morty/src/common/preloader.tsx":"20","/Users/mahdi/workspace/rik-and-morty/src/lib/episode/index.ts":"21","/Users/mahdi/workspace/rik-and-morty/src/lib/episode/episode-list.component.tsx":"22"},{"size":478,"mtime":1607749722208,"results":"23","hashOfConfig":"24"},{"size":425,"mtime":1607749255895,"results":"25","hashOfConfig":"24"},{"size":824,"mtime":1607930375312,"results":"26","hashOfConfig":"24"},{"size":91,"mtime":1607864518605,"results":"27","hashOfConfig":"24"},{"size":475,"mtime":1607943857926,"results":"28","hashOfConfig":"24"},{"size":2149,"mtime":1607941104773,"results":"29","hashOfConfig":"24"},{"size":3089,"mtime":1607943200973,"results":"30","hashOfConfig":"24"},{"size":232,"mtime":1607849427130,"results":"31","hashOfConfig":"24"},{"size":162,"mtime":1607804229259,"results":"32","hashOfConfig":"24"},{"size":54,"mtime":1607925323862,"results":"33","hashOfConfig":"24"},{"size":267,"mtime":1607865885055,"results":"34","hashOfConfig":"24"},{"size":131,"mtime":1607925049312,"results":"35","hashOfConfig":"24"},{"size":602,"mtime":1607858413050,"results":"36","hashOfConfig":"24"},{"size":716,"mtime":1607858407865,"results":"37","hashOfConfig":"24"},{"size":40,"mtime":1607798337208,"results":"38","hashOfConfig":"24"},{"size":920,"mtime":1607943887917,"results":"39","hashOfConfig":"24"},{"size":2971,"mtime":1607943640755,"results":"40","hashOfConfig":"24"},{"size":530,"mtime":1607927924114,"results":"41","hashOfConfig":"24"},{"size":892,"mtime":1607925033441,"results":"42","hashOfConfig":"24"},{"size":188,"mtime":1607925591453,"results":"43","hashOfConfig":"24"},{"size":79,"mtime":1607927951582,"results":"44","hashOfConfig":"24"},{"size":476,"mtime":1607930586039,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"13mdqdy",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"48"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"/Users/mahdi/workspace/rik-and-morty/src/index.tsx",[],["93","94"],"/Users/mahdi/workspace/rik-and-morty/src/reportWebVitals.ts",[],"/Users/mahdi/workspace/rik-and-morty/src/App.tsx",[],"/Users/mahdi/workspace/rik-and-morty/src/pages/index.ts",[],"/Users/mahdi/workspace/rik-and-morty/src/pages/home.page.tsx",[],"/Users/mahdi/workspace/rik-and-morty/src/service.ts",[],"/Users/mahdi/workspace/rik-and-morty/src/pages/result.page.tsx",["95","96","97"],"import React, { useContext, useEffect, useState } from 'react';\nimport { Link, useHistory, useLocation, useParams } from 'react-router-dom';\nimport { CharacterList } from '../lib/character';\nimport { ErrorView, Preloader } from '../common';\nimport { ApiContext } from '../contexts/app-context';\nimport { ICharacterSearchResult } from '../lib';\nimport { AxiosError } from 'axios';\nimport ReactPaginate from 'react-paginate';\nimport { PAGE_SIZE } from '../env';\nimport qs from 'qs';\nimport {isEmpty} from 'lodash';\ninterface IResultPageParams {\n  keyword: string;\n}\n\nexport function ResultPage() {\n  const location = useLocation();\n  const query = {...qs.parse(location.search.replace('?', '')) as any};\n  const page = parseInt(query.page || '1');\n  delete query.page;\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchResult, setSearchResult] = useState<ICharacterSearchResult | null>(null);\n  const [error, setError] = useState<AxiosError>();\n\n  const service = useContext(ApiContext);\n  const history = useHistory();\n  \n  function fetchData() {\n    service\n      ?.searchCharacters({ ...query }, page)\n      .then((result) => {\n        setSearchResult(result);\n      })\n      .catch((e) => setError(e))\n      .finally(() => setIsLoading(false));\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, [location]);\n\n  const changePage = (selectedItem: { selected: number }) => {\n    const q = {...query, page: selectedItem.selected + 1};\n    history.push(location.pathname +'?'+ qs.stringify(q));\n  };\n\n  const clearFilter = () => {\n   history.push(location.pathname.concat(`?page=${page}`))\n  }\n\n  if (error) {\n    console.log(error);\n    return <ErrorView error={error?.response?.data.error} />;\n  }\n\n  if (!searchResult?.results) {\n    return <div className=\"text-center\">Nothing Found...</div>;\n  }\n\n  if (isLoading) {\n    return <Preloader />;\n  }\n\n  return (\n    <>\n    <div className=\"row mt-5\">\n      <div className=\"col\">\n       { !isEmpty(query) && <button className=\"btn btn-warning float-right\" onClick={clearFilter}>Clear Filter</button>}\n        <Link className=\"btn btn-secondary float-left\" to={'/'}>Home</Link>\n      </div>\n    </div>\n      <div className=\"row\">\n        <CharacterList characters={searchResult?.results} />\n      </div>\n      <nav className=\"mt-5\">\n        <ReactPaginate\n          previousLabel={'previous'}\n          nextLabel={'next'}\n          breakLabel={'...'}\n          breakClassName={'page-item'}\n          breakLinkClassName={'page-link'}\n          pageCount={Math.ceil(searchResult.info.count / PAGE_SIZE)}\n          marginPagesDisplayed={2}\n          pageRangeDisplayed={5}\n          onPageChange={changePage}\n          initialPage={page - 1}\n          pageClassName={'page-item'}\n          containerClassName={'pagination justify-content-center'}\n          activeClassName={'active'}\n          pageLinkClassName={'page-link'}\n          nextClassName={'page-item'}\n          nextLinkClassName={'page-link'}\n          previousClassName={'page-item'}\n          previousLinkClassName={'page-link'}\n        />\n      </nav>\n    </>\n  );\n}\n","/Users/mahdi/workspace/rik-and-morty/src/env.ts",[],"/Users/mahdi/workspace/rik-and-morty/src/contexts/app-context.ts",[],"/Users/mahdi/workspace/rik-and-morty/src/common/index.ts",[],"/Users/mahdi/workspace/rik-and-morty/src/common/error.tsx",[],"/Users/mahdi/workspace/rik-and-morty/src/lib/character/index.ts",[],"/Users/mahdi/workspace/rik-and-morty/src/lib/character/character-list.component.tsx",[],"/Users/mahdi/workspace/rik-and-morty/src/lib/character/character-card.component.tsx",[],"/Users/mahdi/workspace/rik-and-morty/src/lib/search/index.ts",[],"/Users/mahdi/workspace/rik-and-morty/src/lib/search/search-box.component.tsx",[],"/Users/mahdi/workspace/rik-and-morty/src/pages/details.page.tsx",["98","99"],"import { AxiosError } from 'axios';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { ErrorView, Preloader } from '../common';\nimport { ApiContext } from '../contexts/app-context';\nimport { ICharacter, IEpisode } from '../lib';\nimport { CharacterInfo } from '../lib/character';\nimport { EpisodeList } from '../lib/episode';\n\ninterface IDetailsPageParams {\n  id: string;\n}\n\nconst EPISODES_COUNT_FOR_EACH_CALL = 6;\n\nexport function DetailsPage() {\n  const params = useParams<IDetailsPageParams>();\n  const characterId = parseInt(params.id);\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<AxiosError>();\n  const [character, setCharacter] = useState<ICharacter>();\n  const [episodeIndexRange, setEpisodeIndexRange] = useState({ from: 0, to: 0 });\n  const [episodes, setEpisodes] = useState<IEpisode[]>([]);\n  const service = useContext(ApiContext);\n\n  useEffect(() => {\n    service\n      ?.getCharacter(characterId)\n      .then((character) => {\n        setCharacter(character);\n        if (character.episode && character.episode.length) {\n          setEpisodeIndexRange({ from: 0, to: EPISODES_COUNT_FOR_EACH_CALL });\n        }\n      })\n      .catch(setError)\n      .finally(() => setIsLoading(false));\n  }, []);\n\n  useEffect(() => {\n    if (character && character.episode) {\n      service\n        ?.getEpisodes(character.episode.slice(episodeIndexRange.from, episodeIndexRange.to))\n        .then((newEpisodes) => {\n          setEpisodes([...episodes, ...newEpisodes]);\n        });\n    }\n  }, [episodeIndexRange]);\n\n  const showMoreEpisodes = () => {\n    setEpisodeIndexRange({ from: episodeIndexRange.to, to: episodeIndexRange.to + EPISODES_COUNT_FOR_EACH_CALL });\n  };\n\n  const buyMerchandise = () => {\n    alert(character?.name + ' added to your cart.');\n  };\n\n  if (error) {\n    return <ErrorView error={error.response?.data.error} />;\n  }\n\n  if (isLoading) {\n    return <Preloader />;\n  }\n\n  if (!character) {\n    return <ErrorView error=\"Something went wrong!\" />\n  }\n    return (\n      <>\n        <div className=\"row mt-5\">\n          <div className=\"col-md-4\">\n            <img alt={character.name} width=\"100%\" src={character?.image} />\n          </div>\n          <div className=\"col-md-6\">\n            <CharacterInfo character={character} />\n            <button onClick={buyMerchandise} className=\"btn btn-success\">\n              Buy merchandise\n            </button>\n          </div>\n        </div>\n        <div className=\"row mt-5\">\n          <EpisodeList episodes={episodes} />\n        </div>\n        <div className=\"row mb-5\">\n          {character && character?.episode?.length > episodes.length && (\n            <div className=\"col text-center\">\n              <button onClick={showMoreEpisodes} className=\"btn btn-primary\">\n                Show More Episodes\n              </button>\n            </div>\n          )}\n        </div>\n      </>\n    );\n}\n","/Users/mahdi/workspace/rik-and-morty/src/lib/episode/episode.component.tsx",[],"/Users/mahdi/workspace/rik-and-morty/src/lib/character/character-info.component.tsx",[],"/Users/mahdi/workspace/rik-and-morty/src/common/preloader.tsx",[],"/Users/mahdi/workspace/rik-and-morty/src/lib/episode/index.ts",[],"/Users/mahdi/workspace/rik-and-morty/src/lib/episode/episode-list.component.tsx",[],{"ruleId":"100","replacedBy":"101"},{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","severity":1,"message":"105","line":2,"column":41,"nodeType":"106","messageId":"107","endLine":2,"endColumn":50},{"ruleId":"104","severity":1,"message":"108","line":12,"column":11,"nodeType":"106","messageId":"107","endLine":12,"endColumn":28},{"ruleId":"109","severity":1,"message":"110","line":40,"column":6,"nodeType":"111","endLine":40,"endColumn":16,"suggestions":"112"},{"ruleId":"109","severity":1,"message":"113","line":38,"column":6,"nodeType":"111","endLine":38,"endColumn":8,"suggestions":"114"},{"ruleId":"109","severity":1,"message":"115","line":48,"column":6,"nodeType":"111","endLine":48,"endColumn":25,"suggestions":"116"},"no-native-reassign",["117"],"no-negated-in-lhs",["118"],"@typescript-eslint/no-unused-vars","'useParams' is defined but never used.","Identifier","unusedVar","'IResultPageParams' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","ArrayExpression",["119"],"React Hook useEffect has missing dependencies: 'characterId' and 'service'. Either include them or remove the dependency array.",["120"],"React Hook useEffect has missing dependencies: 'character', 'episodes', and 'service'. Either include them or remove the dependency array. You can also do a functional update 'setEpisodes(e => ...)' if you only need 'episodes' in the 'setEpisodes' call.",["121"],"no-global-assign","no-unsafe-negation",{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},{"desc":"126","fix":"127"},"Update the dependencies array to be: [fetchData, location]",{"range":"128","text":"129"},"Update the dependencies array to be: [characterId, service]",{"range":"130","text":"131"},"Update the dependencies array to be: [character, episodeIndexRange, episodes, service]",{"range":"132","text":"133"},[1311,1321],"[fetchData, location]",[1316,1318],"[characterId, service]",[1601,1620],"[character, episodeIndexRange, episodes, service]"]